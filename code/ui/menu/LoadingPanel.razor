@using System
@using Sandbox;
@using Sandbox.UI;
@using Sandbox.Menu;
@attribute [StyleSheet]
@inherits RootPanel
@namespace Facepunch.Pool.Menu
@implements Sandbox.Menu.ILoadingScreenPanel

<root>
    <div class="fullscreen-blur"></div>
    
    <div class="canvas">
        
        <div class="layout center">
            
            <div class="game-title">&#x1F3B1; Pool</div>
            <div class="game-description center">
                <div class="spinner small"></div>
                @Progress.Title
            </div>

            @if ( Progress.Fraction > 0 )
            {
                <div class="progress">
                    <div class="bar" style="width: @(Progress.Percent)%;"></div>
                    <div class="text-left">@(Progress.Percent.ToString( "0" ) )%</div>
                    <div class="text-right"><span>@(Progress.Mbps.ToString( "0" ))</span><span class="unit">Mbps</span></div>
                </div>
            }

            <div class="controls">

                <a class="button" onclick="@Game.Menu.CancelLoading">
                    Cancel
                    <div class="underline"></div>
                </a>
                
            </div>
            
        </div>
        
    </div>


</root>

@code
{
    public LoadingProgress Progress;

    public void OnLoadingProgress( LoadingProgress progress )
    {
        Progress = progress;
        StateHasChanged();
    }
}
